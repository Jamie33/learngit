<!DOCTYPE html><html><head><meta charset="utf-8"></head><body><h1>我去扒了杜蕾斯的微博</h1><div class="RichText ztext Post-RichText">
 <em>
  本篇来自编程教室学员
 </em>
 <p>
  如果你一个微博控，一定领教过杜蕾斯官方微博的各种营销套路。那简直就是就是微博上的一股泥石流，让多少人一边大呼“太污了”，一边手又很老实地点了转发。
  <br/>
 </p>
 <figure>
  <noscript>
   <img class="origin_image zh-lightbox-thumb" data-original="https://pic4.zhimg.com/v2-8f9f3e371d6be2b4243c2ad9df61286d_r.jpg" data-rawheight="400" data-rawwidth="640" src="https://pic4.zhimg.com/v2-8f9f3e371d6be2b4243c2ad9df61286d_b.jpg" width="640"/>
  </noscript>
  <img class="origin_image zh-lightbox-thumb lazy" src="https://pic4.zhimg.com/v2-8f9f3e371d6be2b4243c2ad9df61286d_b.jpg" data-original="https://pic4.zhimg.com/v2-8f9f3e371d6be2b4243c2ad9df61286d_r.jpg" data-rawheight="400" data-rawwidth="640" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='640'%20height='400'&gt;&lt;/svg&gt;" width="640"/>
 </figure>
 <p>
  作为互联网行业的菜鸟，我对杜蕾斯的文案实在佩服得五体投地，每次发微都能有不错的转发量。恰好最近在编程教室里学习爬虫，就想着能不能爬一下转发的用户，然后分析一下“老司机”们的信息，看看平常都是谁在为段子手杜杜添砖加瓦。
 </p>
 <p>
  经过不懈的努力，加上 Crossin 先生的指点，我扒下了杜蕾斯 2016 发的转发量较大的 800+ 条微博，得到 60000+ 用户信息。由于是娱乐+练手，且受限于时间、技术，并没能完完整整地获得所有微博以及所有转发用户，所以大家也抱着娱乐的心态来看就行了[捂脸]。
 </p>
 <p>
  由于微博用户的信息不是每项都必填，所以最后的结果跟总的用户数会有一些差别，特此提醒。
 </p>
 <h2>
  <strong>
   先说结论
  </strong>
 </h2>
 <p>
  首先是“老司机”们的性别分布。当然不说你们也应该清楚，男同胞比女同胞是要多那么一些些。毕竟女性同胞们是要更加矜持和含蓄滴[害羞脸]。不过也仅仅只相差不到 15 个百分点，着实让我意外。看来历史的车轮滚滚向前，女性同胞们也逐渐上车了！！！
 </p>
 <figure>
  <noscript>
   <img class="origin_image zh-lightbox-thumb" data-original="https://pic2.zhimg.com/v2-fbfa693a95e3f476f71f025f2e955f3a_r.jpg" data-rawheight="412" data-rawwidth="640" src="https://pic2.zhimg.com/v2-fbfa693a95e3f476f71f025f2e955f3a_b.jpg" width="640"/>
  </noscript>
  <img class="origin_image zh-lightbox-thumb lazy" src="https://pic2.zhimg.com/v2-fbfa693a95e3f476f71f025f2e955f3a_b.jpg" data-original="https://pic2.zhimg.com/v2-fbfa693a95e3f476f71f025f2e955f3a_r.jpg" data-rawheight="412" data-rawwidth="640" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='640'%20height='412'&gt;&lt;/svg&gt;" width="640"/>
 </figure>
 <p>
  接下来是“老司机”们所在的地区。毫无疑问，北上广深等地区占据绝对的优势。这就是大城市，开放、包容，也印证了那就老话，城外的司机想进来，是因为城里的司机真会玩儿！
 </p>
 <figure>
  <noscript>
   <img class="origin_image zh-lightbox-thumb" data-original="https://pic3.zhimg.com/v2-9548a6404558c2b023f1a26db2f2c050_r.jpg" data-rawheight="479" data-rawwidth="640" src="https://pic3.zhimg.com/v2-9548a6404558c2b023f1a26db2f2c050_b.jpg" width="640"/>
  </noscript>
  <img class="origin_image zh-lightbox-thumb lazy" src="https://pic3.zhimg.com/v2-9548a6404558c2b023f1a26db2f2c050_b.jpg" data-original="https://pic3.zhimg.com/v2-9548a6404558c2b023f1a26db2f2c050_r.jpg" data-rawheight="479" data-rawwidth="640" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='640'%20height='479'&gt;&lt;/svg&gt;" width="640"/>
 </figure>
 <p>
  接下来就是更详细的星座排行了。恭喜天秤以微弱的优势获得冠军，总体来说各个星座分布的比较平均。如果我们说天秤、天蝎敢于转发杜蕾斯是“豪放”，那金牛就是不折不扣的“闷骚”了（说完就跑，真刺激）。
  <br/>
 </p>
 <figure>
  <noscript>
   <img class="origin_image zh-lightbox-thumb" data-original="https://pic4.zhimg.com/v2-3dbec49f28720b14169d07ae4cf0c830_r.jpg" data-rawheight="377" data-rawwidth="640" src="https://pic4.zhimg.com/v2-3dbec49f28720b14169d07ae4cf0c830_b.jpg" width="640"/>
  </noscript>
  <img class="origin_image zh-lightbox-thumb lazy" src="https://pic4.zhimg.com/v2-3dbec49f28720b14169d07ae4cf0c830_b.jpg" data-original="https://pic4.zhimg.com/v2-3dbec49f28720b14169d07ae4cf0c830_r.jpg" data-rawheight="377" data-rawwidth="640" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='640'%20height='377'&gt;&lt;/svg&gt;" width="640"/>
 </figure>
 <p>
  然后，我们来看看“司机”们的出生年代分布。无疑，90后已经是网络时代的主力了，承接 80 后的衣钵，俯瞰 00 后的青涩，90 后站在网络时代的浪潮巅上，一览纵山小！（不过像 Crossin 先生这种年龄成谜的，不知该给归为哪一类呢？）
  <br/>
 </p>
 <figure>
  <noscript>
   <img class="origin_image zh-lightbox-thumb" data-original="https://pic3.zhimg.com/v2-19e5870e9faaed0eae59a5ec83ca37ce_r.jpg" data-rawheight="371" data-rawwidth="640" src="https://pic3.zhimg.com/v2-19e5870e9faaed0eae59a5ec83ca37ce_b.jpg" width="640"/>
  </noscript>
  <img class="origin_image zh-lightbox-thumb lazy" src="https://pic3.zhimg.com/v2-19e5870e9faaed0eae59a5ec83ca37ce_b.jpg" data-original="https://pic3.zhimg.com/v2-19e5870e9faaed0eae59a5ec83ca37ce_r.jpg" data-rawheight="371" data-rawwidth="640" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='640'%20height='371'&gt;&lt;/svg&gt;" width="640"/>
 </figure>
 <p>
  最后看看“司机”们的标签，“美食”竟然占比最大，难怪古人会说“食色，性也”。这句话如此有道理，而我今天才明白，实在惭愧。另外“旅游”，“幽默”，“摄影”等外向型标签的司机占据了半壁江山。不难看出，想撩妹子，你得有钱，还得有时间，最好还能有情调，这是亘古不变的道理，在座的屌丝们都退下吧！
  <br/>
 </p>
 <figure>
  <noscript>
   <img class="origin_image zh-lightbox-thumb" data-original="https://pic4.zhimg.com/v2-9cca7b4af677da58e0936ab6720ff820_r.jpg" data-rawheight="446" data-rawwidth="640" src="https://pic4.zhimg.com/v2-9cca7b4af677da58e0936ab6720ff820_b.jpg" width="640"/>
  </noscript>
  <img class="origin_image zh-lightbox-thumb lazy" src="https://pic4.zhimg.com/v2-9cca7b4af677da58e0936ab6720ff820_b.jpg" data-original="https://pic4.zhimg.com/v2-9cca7b4af677da58e0936ab6720ff820_r.jpg" data-rawheight="446" data-rawwidth="640" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='640'%20height='446'&gt;&lt;/svg&gt;" width="640"/>
 </figure>
 <p>
  <b>
   明天就是情人节了，各位妹子一定都有约了吧？如果约会的那位 90 后小伙儿是来自北京的天秤或者在深圳打拼的天蝎，一晚上跟你谈着大理、丽江，聊着民谣和好莱坞，那你可要少喝点哦~我也只能帮你到这儿啦！
   <br/>
  </b>
 </p>
 <p>
  不用谢，不客气。
  <br/>
 </p>
 <h2>
  <strong>
   实现过程
  </strong>
 </h2>
 <p>
  最后，言归正传，简单从技术上谈谈实现过程，整体来说分为五步：
 </p>
 <ol>
  <li>
   <p>
    获取杜蕾斯 2016 年所发微博的 ID
   </p>
  </li>
  <li>
   <p>
    根据微博 ID 获取转发的用户 ID
   </p>
  </li>
  <li>
   <p>
    通过用户 ID 获得该用户的信息
   </p>
  </li>
  <li>
   <p>
    整合归纳信息
   </p>
  </li>
  <li>
   <p>
    导入 ECharts 展示
   </p>
  </li>
 </ol>
 <p>
  所涉及到的技术模块包括：
  <strong>
   requests
  </strong>
  、
  <strong>
   BeautifulSoup4
  </strong>
  、
  <strong>
   json
  </strong>
  、
  <strong>
   正则表达式
  </strong>
  、
  <strong>
   jieba 分词
  </strong>
  、
  <strong>
   ECharts
  </strong>
  等。
  <br/>
 </p>
 <p>
  在实现过程中遇到的主要问题是微博的反爬机制，轻则封号，重则封 IP。作为一个新爬手，前两万次用户信息爬取付出了血与泪的教训。之后采用多 cookie、换 IP 的机制，才使整个工作轻松起来。不过其间为了便于抓取，我可是用白花花的银子购买了微博账号和 IP 代理[捂胸口]。不说了，看在我这么努力分析的份上，各位多多点赞转发呗。如果大家有兴趣，后面我再把具体的实现细节整理出来。
  <br/>
 </p>
 <p>
  当然，这个项目还很粗浅，分析的数据也有限。比如后来想到可以分析下“司机们”开车的时间段，才发现转发时间在抓取时都没有记录，于是也就懒得再重新抓一遍了……不过对我个人来说，可以算是学习 Python 三个多月以来的一个比较完整的小项目。还是要感谢 Crossin 先生的耐心指导。我争取下一个项目做得更酷炫一点[握拳]。
  <br/>
 </p>
 <br/>
 <p>
  <u>
   动态效果演示网页和代码我都上传好了，在公众号
  </u>
  <u>
   （Crossin的编程教室）里回复“
   <strong>
    微博
   </strong>
   ”可见。
  </u>
 </p>
 <br/>
 <br/>
 <br/>
 <br/>
 <p>
  <u>
   其他文章及回答：
  </u>
  <br/>
 </p>
 <br/>
 <a class="internal" href="https://www.zhihu.com/question/22863981/answer/22923499">
  学习编程的过程中可能会走哪些弯路，有哪些经验可以参考？ - Crossin 的回答
 </a>
 <br/>
 <a class="internal" href="https://www.zhihu.com/question/20702054/answer/19022301">
  你是如何自学 Python 的？ - Crossin 的回答
 </a>
 <br/>
 <a class="internal" href="https://zhuanlan.zhihu.com/p/25109074">
  数据分析：当赵雷唱民谣时他唱些什么？- Crossin的编程教室 - 知乎专栏
 </a>
 <br/>
 <a class="internal" href="https://zhuanlan.zhihu.com/p/25009370">
  一行代码扫出“敬业福” - Crossin的编程教室 - 知乎专栏
 </a>
 <br/>
 <a class="internal" href="https://zhuanlan.zhihu.com/p/24606846">
  今天，你抢到票了吗 - Crossin的编程教室 - 知乎专栏
 </a>
 <br/>
 <a class="internal" href="https://zhuanlan.zhihu.com/p/22339492">
  爆款游戏《贪吃蛇大作战》的 Python 实现 - Crossin的编程教室 - 知乎专栏
 </a>
 <br/>
 <br/>
 <p>
  <b>
   Crossin的编程教室
  </b>
 </p>
 <p>
  微信公众号ID：crossincode
  <br/>
  网站：
  <a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//crossincode.com/" rel="nofollow noreferrer" target="_blank">
   crossincode.com
  </a>
  <br/>
  QQ群：453300655
  <br/>
  微信加群：crossin11
 </p>
 <figure>
  <noscript>
   <img class="content_image" data-rawheight="258" data-rawwidth="258" src="https://pic4.zhimg.com/5b886398336f8058c0ecafdc5d85c857_b.jpg" width="258"/>
  </noscript>
  <img class="content_image lazy" src="https://pic4.zhimg.com/5b886398336f8058c0ecafdc5d85c857_b.jpg" data-rawheight="258" data-rawwidth="258" src="data:image/svg+xml;utf8,&lt;svg%20xmlns='http://www.w3.org/2000/svg'%20width='258'%20height='258'&gt;&lt;/svg&gt;" width="258"/>
 </figure>
</div></body></html>